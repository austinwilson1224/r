---
title: Random Variables
author: TODO
date: 27 September 2020
---

#### Outcomes

- Implement mathematical expressions in user defined functions
- Write vectorized functions
- Translate word problems and game rules into mathematics and code


#### Background

In this assignment we'll practice writing random variables using the game of Roulette.
We'll use them in the next assignment to analyze and understand the game.

A European roulette wheel has numbers 1-36 in red and black, and number 0 in green for a house win.
The dealer spins the board, and the the ball lands randomly on one of these 37 numbers.
Here's a brief [video introducing the rules of roulette](https://youtu.be/6nKBlWaRI8w).

#### Instructions

- Answer the following questions, and show all your R code.
- Upload your submission to Canvas in nicely formatted HTML generated from Rstudio.

In the code that follows, think of `x` as a random variable uniformly distributed on the integers 0 through 36, representing the possible values for a game of roulette.
Here's one way to produce a vector containing a sample of size `n` from `x`.

```{r}
n = 100
roulette_values = 0:36
x = sample(roulette_values, size = n, replace = TRUE)
```

# Questions

## 1 - outside bet -- double your money payout is 1:1 (bet $1 and win you get $1, lose -- lose $1)

(3 points)

The elements of our sample space are the roulette numbers: {0, 1, ..., 36}.
In statistics, a random variable is a function that maps an element of the sample space to a real number.
Let h(x) be a random variable representing the amount you win or lose for a bet on the high numbers defined as follows:

$$
h(x) = \begin{cases}
-1 &\mbox{if } x \leq 18 \\
1 & \mbox{if } 18 < x
\end{cases}
$$

Define a vectorized function `high` that accepts a sample vector `x` and implements `h(x)`.

```{r}
# TODO define high
high = function(x, amount_bet = 1) {
  win = x > 18
  # ifelse(win, 1, -1)
  ifelse(win, amount_bet,  -amount_bet) 
}
high(x)
high_winnings = sum(high(x))
```

Hint: Use `even(x)` below as a template.

```{r}
even = function(x)
{
    win = (x %% 2 == 0) & (x != 0)
    ifelse(win, 1, -1)
}
```


## 2

(3 points)

Define a vectorized function `low` that accepts a sample vector `x` and returns the amount you win or lose if you bet one unit money on the low numbers, from 1 to 18.
Hint: you lose if X = 0.

```{r}
# TODO define low
low = function(x, amount_bet = 1) {
  win = x < 18 & x > 0
  sum(win)
}
low_winnings = low(x)
```


## 3 - straight up

(3 points)

Define a vectorized function `straightup` that accepts `x`, a sample vector, and `d`, a digit between  0 and 36, and returns the amount you win or lose in roulette if you bet one unit money on the single value `d`.

```{r}
# TODO define straightup if you win straighup then you get 36 * your money back 
straightup = function(x, d, amount_bet = 1) {
  win = x == d
  lose = x != d
  print(sum(win) + sum(lose))
  (sum(win) - sum(lose)) * amount_bet * 36
}
straightup_winnings = straightup(x, 3)
```


## 4 - something different

(7 points)

Pick another possible roulette bet that does not have a 1 to 1 payout, and implement an appropriately named vectorized function that accepts `x`, and returns the amount you win or lose in roulette if you bet one unit of money on the single value `d`.
Write it in mathematical notation below as f(x).

$$
f(x) = TODO
$$

```{r}
# even / odd
even = function (x, amount_bet = 1)  {
  win = (x %% 2 == 0) & (x != 0)
  lose = !win
  (sum(win) - sum(lose)) * amount_bet
}
even_winnings = even(x)
```

```{r}
# red / black
red_numbers = c(1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36)
black_numbers = c(2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35)
red = function(x, amount_bet = 1) {
  win = x %in% red_numbers
  # ifelse(win, 1, -1)
  (sum(win) - sum(!win)) * amount_bet
}
red(x)
black = function(x, amount_bet = 1) {
  win = x %in% black_numbers
  # ifelse(win, 1, -1)
  (sum(win) - sum(!win)) * amount_bet
}

```

```{r}
# dozen bet
low_dozen = 1:12
mid_dozen = 13:24
high_dozen = 25:36
dozen = function(x, dozen, amount_bet = 1) {
  win = x %in% dozen
  (sum(win) - sum(!win)) * amount_bet * 2
}
```

```{r}
# column bet 
column1 = c(1,4,7,10,13,16,19,22,25,28,31,34)
column2 = c(2,5,8,11,14,17,20,23,26,29,32,35)
column3 = c(3,6,9,12,15,18,21,24,27,30,33,36)
column = function(x, column, amount_bet = 1) {
  win = x %in% column
  (sum(win) - sum(!win)) * amount_bet * 2
}
```


## 5

(4 points)

Calculate the expected value of your winnings after each play for each of the 4 betting strategies described above.
It should be negative, because the house always wins.

random variable X = winnings... so p(X) is the probability of winning X dollars

E(X) = sum(x * p(x))

X = amount of money won if you bet 1 unit of money on value x 

```{r}
# 1
# expected value of high
# X = the case where the ball lands on a number greater than or equal to 18 
probability_high = 18 / 36
expected_value_high = high_winnings * probability_high
expected_value_high
# 2
# expected value of low
probability_low = 18 / 36
expected_value_low = low_winnings * probability_low
expected_value_low
# 3
# if you win straight up then you win 36* your money
probability_straightup = 1 / 36
expected_value_straightup = straightup_winnings * probability_straightup
expected_value_straightup
# 4
# if you win even
probability_even = 18 / 36
expected_value_even = even_winnings * probability_even
expected_value_even
```